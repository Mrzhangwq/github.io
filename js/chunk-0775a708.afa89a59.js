(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0775a708"],{"035c":function(t,o,e){"use strict";var a=e("9a6c"),s=e.n(a);s.a},"23ae":function(t,o,e){},"587e":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"hello"},[e("div",{staticClass:"lunbo"},[e("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(4,function(t){return e("el-carousel-item",{key:t},[e("div",{staticClass:"item"})])}),1)],1),0!==t.booklist.length?e("div",{staticClass:"books"},t._l(t.booklist,function(o){return e("div",{key:o.bookId,staticClass:"book-item"},[e("el-image",{staticStyle:{width:"80px",height:"100px"},attrs:{src:o.avatar,"preview-src-list":[o.avatar],fit:"fill"}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"el-icon-loading"})])]),e("h3",{staticClass:"bookname",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.readBook(o.bookId)}}},[t._v(t._s(o.bookname))]),e("h5",{staticClass:"author",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.readBook(o.bookId)}}},[t._v(t._s(o.author))]),e("div",{staticClass:"control"},[e("span",{staticClass:"el-icon-edit-outline icon",staticStyle:{color:"#409EFF"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editmsg(o.bookId)}}}),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"继续写书",placement:"bottom"}},[e("span",{staticClass:"el-icon-edit icon",staticStyle:{color:"#409EFF"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.writebook(o.bookId)}}})]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除书籍",placement:"bottom"}},[e("span",{staticClass:"el-icon-delete icon",staticStyle:{color:"#F56C6C"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deletebook(o.bookname,o.bookId)}}})])],1),e("span",{staticClass:"descript",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.readBook(o.bookId)}}},[t._v(t._s(o.descript))]),e("span",{staticClass:"created_time"},[t._v(t._s(t._f("formatTimeAgo")(o.created_time)))])],1)}),0):t._e(),e("Editbook")],1)},s=[],i=e("365c"),n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showControl,expression:"showControl"}],staticClass:"editbookmsg"},[e("el-dialog",{attrs:{title:"更新信息",visible:t.showControl,"show-close":!1,center:""},on:{close:t.close,"update:visible":function(o){t.showControl=o}}},[e("el-form",{ref:"myForm",staticClass:"myFrom",attrs:{model:t.book}},[e("el-form-item",{attrs:{label:"封面",prop:"author"}},[e("div",{staticClass:"demo-image__preview"},[e("el-image",{staticStyle:{width:"100px",height:"120px"},attrs:{src:t.book.avatar}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"el-icon-loading"})]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("input",{ref:"uploadAva",staticClass:"selectfile",attrs:{type:"file",name:"avatar",alt:"点击上传文件"},on:{change:t.uploadAvatar}})],1)]),e("el-form-item",{attrs:{label:"作者",prop:"author"}},[e("el-input",{attrs:{placeholder:"作者",autocomplete:"off"},model:{value:t.book.author,callback:function(o){t.$set(t.book,"author",o)},expression:"book.author"}})],1),e("el-form-item",{attrs:{label:"书名",prop:"bookname"}},[e("el-input",{attrs:{placeholder:"书名",autocomplete:"off"},model:{value:t.book.bookname,callback:function(o){t.$set(t.book,"bookname",o)},expression:"book.bookname"}})],1),e("el-form-item",{attrs:{label:"简介",prop:"descript"}},[e("el-input",{attrs:{placeholder:"简介",type:"textarea",rows:4,autocomplete:"off"},model:{value:t.book.descript,callback:function(o){t.$set(t.book,"descript",o)},expression:"book.descript"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("提 交")])],1)],1)],1)},l=[],r=(e("6762"),e("2fdb"),{data:function(){return{showControl:!1,book:{},avatarMimes:["image/jpeg","image/pjpeg","image/jpeg","image/pjpeg","image/jpeg","image/pjpeg","image/png","image/x-png","image/gif"]}},created:function(){var t=this;this.$Buse.$on("editbook",function(o){t.showControl=!0,t.$nextTick(function(){t.getmsg(o)})})},methods:{getmsg:function(t){var o=this,e={bookId:t};Object(i["k"])(e).then(function(t){200===t.data.code&&(o.book=t.data.data)})},uploadAvatar:function(){var t=this,o=this.$refs["uploadAva"].files[0];if(!this.avatarMimes.includes(o.type))return this.$notify({title:"错误",message:"请选择图片文件！",iconClass:"el-icon-warning-outline",duration:2500});var e=new FormData;e.append("avatar",o),Object(i["s"])(e).then(function(o){200===o.data.code?t.book.avatar=o.data.data.avatar:t.$notify({title:"错误",message:o.data.msg,iconClass:"el-icon-warning-outline",duration:2500})})},update:function(){var t=this,o=this.book;Object(i["r"])(o).then(function(o){t.showControl=!1,200===o.data.code&&(t.$notify({title:"成功",message:o.data.msg,iconClass:"el-icon-check",duration:2500}),t.$parent.getBookList())})},close:function(){this.showControl=!1,this.book={}}}}),c=r,d=(e("035c"),e("2877")),u=Object(d["a"])(c,n,l,!1,null,"ca98d0d4",null),p=u.exports,f={name:"HelloWorld",data:function(){return{booklist:[],EditbookId:"11",words:[{first:"遇事不决",last:"可问春风"},{first:"纤云弄巧",last:"银汉迢迢暗渡"},{first:"与善人居，如芝兰入室",last:"久自芳矣"},{first:"人如花木",last:"皆向阳而生"}]}},created:function(){var t=this;Object(i["m"])().then(function(o){200===o.data.code&&(t.booklist=o.data.data)})},components:{Editbook:p},methods:{readBook:function(t){this.$router.push({name:"helloreading",params:{bookId:t}})},getBookList:function(){var t=this;Object(i["m"])().then(function(o){200===o.data.code&&(t.booklist=o.data.data,console.log(t.booklist))})},editmsg:function(t){this.$Buse.$emit("editbook",t)},writebook:function(t){this.$router.push({name:"hellowritebook",params:{bookId:t}})},tip:function(){console.log(1111)},deletebook:function(t,o){var e=this,a=this.$notify({title:"提示",message:'<p class="notifymsg">听说你丢掉 <span style="color:#000;font-size:13px">《'.concat(t,'》<span/>？</p>\n           <el-link style="color:#F56C6C;cursor: pointer;">点击此处即可删除本书籍</el-link><br/>\n           <el-link style="float:right;">3s后自动关闭</el-link>'),duration:2500,iconClass:"el-icon-question",dangerouslyUseHTMLString:!0,onClick:function(){Object(i["c"])({bookId:o}).then(function(t){a.close(),200===t.data.code&&(e.booklist=e.booklist.filter(function(t){return t.bookId!=o}))})}})}}},m=f,k=(e("69b2"),Object(d["a"])(m,a,s,!1,null,"1a487c34",null));o["default"]=k.exports},"69b2":function(t,o,e){"use strict";var a=e("23ae"),s=e.n(a);s.a},"9a6c":function(t,o,e){}}]);
//# sourceMappingURL=chunk-0775a708.afa89a59.js.map