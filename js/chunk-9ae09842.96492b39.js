(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ae09842"],{"253a":function(t,s,e){},"2c9a":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade_in",mode:"out-in"}},[e("div",{staticClass:"helloreading"},[e("transition",{attrs:{name:"fade_top"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.edgshow,expression:"edgshow"}],staticClass:"bookhead"},[e("span",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"24px"},on:{click:t.quit}}),e("span",{staticClass:"bookname"},[t._v(t._s(t.bookbase.bookname))]),e("span",{staticClass:"author"},[t._v(t._s(t.bookbase.author))]),e("span",{staticClass:"sectionlist",on:{click:t.toogledraw}},[t._v("目录")])])]),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadsection,expression:"loadsection"},{name:"loading",rawName:"v-loading",value:t.loadflag,expression:"loadflag"}],staticClass:"content",attrs:{"infinite-scroll-distance":"-100px","infinite-scroll-disabled":t.disabled,"infinite-scroll-immediate":"false"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.toggleedg()}}},[t._l(t.bookdetail,function(s,o){return e("div",{key:o,staticClass:"chapter",class:"chapter"+s.section},[e("h4",{staticClass:"title"},[t._v(t._s(s.section_title))]),e("div",{staticClass:"text"},[t._v(t._s(s.content))])])}),t.booksection!==t.currentsection?e("p",{staticClass:"scroll-tip"},[e("span",{staticClass:"el-icon-loading"}),t._v(" 加载中...\n      ")]):t._e(),t.booksection===t.currentsection?e("p",{staticClass:"scroll-tip"},[t._v("没有更多了")]):t._e()],2),e("transition",{attrs:{name:"fade_bottom"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.edgshow,expression:"edgshow"}],staticClass:"bookfoot"},[e("div",{staticClass:"item",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.fontsetting(s)}}},[e("span",{staticClass:"el-icon-brush"}),e("span",{staticClass:"text"},[t._v("字体")])]),e("div",{staticClass:"item",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.bgsetting(s)}}},[e("span",{staticClass:"el-icon-setting"}),e("span",{staticClass:"text"},[t._v("背景")])])])]),e("el-drawer",{attrs:{title:"目录",visible:t.drawer,"show-close":!1,size:"40%"},on:{"update:visible":function(s){t.drawer=s}}},[e("ul",[e("li",{staticClass:"section-item"},[t._v("(部分功能未开放)")]),t._l(t.sections,function(s,o){return e("li",{key:o,staticClass:"section-item",on:{click:function(e){return t.jumpto(s.section)}}},[0!==o?e("span",[t._v(t._s(s.section+"."))]):t._e(),t._v("\n          "+t._s(s.section_title)+"\n        ")])})],2)])],1)])},i=[],n=e("365c"),a={name:"helloreading",data:function(){return{bookdetail:[],booksection:-1,currentsection:0,bookbase:{},sections:[],edgshow:!0,drawer:!1,disabled:!1,loadflag:!1}},created:function(){this.getcontent(this.$route.params.bookId),this.getbooksections(this.$route.params)},methods:{getcontent:function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.loadflag=!0;var o={bookId:t,booksection:e};Object(n["l"])(o).then(function(t){s.loadflag=!1,201===t.data.code?(s.bookbase=t.data.data.bookbase,s.bookdetail=t.data.data.sections):200===t.data.code&&(s.currentsection=s.currentsection+1,s.bookdetail=s.bookdetail.concat(t.data.data.sections[0]))})},getbooksections:function(t){var s=this;Object(n["o"])(t).then(function(t){200===t.data.code&&(s.sections=t.data.data)})},loadsection:function(){this.currentsection===this.booksection?this.disabled=!0:this.getcontent(this.$route.params.bookId,this.currentsection+1)},jumpto:function(t){this.$notify({title:"未上线",message:"此功能正在研发中...",iconClass:"el-icon-info",duration:2500})},toggleedg:function(){this.edgshow=!this.edgshow},toogledraw:function(){this.drawer=!this.drawer},quit:function(){this.$router.go(-1)},reset:function(){this.bookdetail=[],this.booksection=-1,this.currentsection=0,this.bookbase={},this.sections=[],this.edgshow=!0,this.drawer=!1}},watch:{sections:function(t){this.booksection=this.sections[this.sections.length-1]["section"]}},beforeDestory:function(){this.reset()}},c=a,l=(e("cb25"),e("2877")),r=Object(l["a"])(c,o,i,!1,null,"e88649a6",null);s["default"]=r.exports},cb25:function(t,s,e){"use strict";var o=e("253a"),i=e.n(o);i.a}}]);
//# sourceMappingURL=chunk-9ae09842.96492b39.js.map